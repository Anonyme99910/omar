import{b as V,r as B,h as E,x as F,c as i,o as d,d as t,k as c,t as e,l as o,y as z,j as D,F as N,m as T,z as P}from"./index-C_97I58l.js";import{t as l}from"./numbers-BTmV-EI5.js";import{D as A}from"./dollar-sign-BAXBBHAL.js";import{T as I}from"./trending-up-WJZ1z-qi.js";import{P as C}from"./package-CtnBvzPT.js";import{A as G}from"./alert-triangle-BlV264Ti.js";import{U as L}from"./users-Kh5HvDNb.js";import"./createLucideIcon-BWjWJ7LZ.js";const S={class:"space-y-6"},M={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6"},q={class:"card bg-gradient-to-br from-blue-500 to-blue-600 text-white"},H={class:"flex items-center justify-between"},J={class:"text-2xl sm:text-3xl font-bold mt-2"},K={class:"text-blue-100 text-xs sm:text-sm mt-1"},O={class:"card bg-gradient-to-br from-green-500 to-green-600 text-white"},Q={class:"flex items-center justify-between"},R={class:"text-2xl sm:text-3xl font-bold mt-2"},W={class:"text-green-100 text-xs sm:text-sm mt-1"},X={class:"card bg-gradient-to-br from-purple-500 to-purple-600 text-white"},Y={class:"flex items-center justify-between"},Z={class:"text-2xl sm:text-3xl font-bold mt-2"},$={class:"text-purple-100 text-xs sm:text-sm mt-1"},tt={class:"card bg-gradient-to-br from-red-500 to-red-600 text-white"},st={class:"flex items-center justify-between"},et={class:"text-2xl sm:text-3xl font-bold mt-2"},ot={class:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6"},at={class:"card"},rt={class:"text-xl font-bold mb-4 flex items-center gap-2"},lt={class:"space-y-3"},nt={class:"flex-1 min-w-0"},it={class:"font-medium text-gray-900 text-sm sm:text-base truncate"},dt={class:"text-xs sm:text-sm text-gray-500 truncate"},ct={class:"text-left ml-2"},mt={class:"font-bold text-primary-600 text-sm sm:text-base whitespace-nowrap"},xt={key:0,class:"text-center py-8 text-gray-500"},_t={class:"card"},pt={class:"text-lg sm:text-xl font-bold mb-4 flex items-center gap-2"},ut={class:"space-y-3"},gt={class:"flex-1 min-w-0"},ht={class:"font-medium text-gray-900 text-sm sm:text-base truncate"},ft={class:"text-xs sm:text-sm text-gray-500"},vt={class:"text-left ml-2"},bt={class:"font-bold text-green-600 text-sm sm:text-base whitespace-nowrap"},yt={class:"text-xs sm:text-sm text-gray-500"},wt={key:0,class:"text-center py-8 text-gray-500"},Bt={__name:"Dashboard",setup(kt){const U=V(),a=B({}),m=n=>{const s=new Intl.NumberFormat("en-EG",{style:"currency",currency:"EGP"}).format(n);return l(s)},x=async()=>{try{const n=await P.getDashboard();a.value=n.data}catch{U.error("فشل تحميل البيانات")}};return E(()=>{x();const n=setInterval(()=>{x()},5*60*1e3);F(()=>{clearInterval(n)})}),(n,s)=>{var _,p,u,g,h,f,v,b,y;return d(),i("div",S,[t("div",M,[t("div",q,[t("div",H,[t("div",null,[s[0]||(s[0]=t("p",{class:"text-blue-100 text-xs sm:text-sm"},"مبيعات اليوم",-1)),t("h3",J,e(m(((_=a.value.today)==null?void 0:_.sales)||0)),1),t("p",K,e(o(l)(((p=a.value.today)==null?void 0:p.orders)||0))+" طلب",1)]),c(o(A),{size:40,class:"text-blue-200 sm:w-12 sm:h-12"})])]),t("div",O,[t("div",Q,[t("div",null,[s[1]||(s[1]=t("p",{class:"text-green-100 text-xs sm:text-sm"},"مبيعات الشهر",-1)),t("h3",R,e(m(((u=a.value.month)==null?void 0:u.sales)||0)),1),t("p",W,e(o(l)(((g=a.value.month)==null?void 0:g.orders)||0))+" طلب",1)]),c(o(I),{size:40,class:"text-green-200 sm:w-12 sm:h-12"})])]),t("div",X,[t("div",Y,[t("div",null,[s[2]||(s[2]=t("p",{class:"text-purple-100 text-xs sm:text-sm"},"إجمالي المنتجات",-1)),t("h3",Z,e(o(l)(((h=a.value.inventory)==null?void 0:h.total_products)||0)),1),t("p",$,e(m(((f=a.value.inventory)==null?void 0:f.total_value)||0)),1)]),c(o(C),{size:40,class:"text-purple-200 sm:w-12 sm:h-12"})])]),t("div",tt,[t("div",st,[t("div",null,[s[3]||(s[3]=t("p",{class:"text-red-100 text-xs sm:text-sm"},"تنبيهات المخزون",-1)),t("h3",et,e(o(l)(((v=a.value.inventory)==null?void 0:v.low_stock)||0)),1),s[4]||(s[4]=t("p",{class:"text-red-100 text-xs sm:text-sm mt-1"},"منتج منخفض",-1))]),c(o(G),{size:40,class:"text-red-200 sm:w-12 sm:h-12"})])])]),t("div",ot,[t("div",at,[t("h3",rt,[c(o(I),{size:24,class:"text-primary-600"}),s[5]||(s[5]=z(" المنتجات الأكثر مبيعاً ",-1))]),t("div",lt,[(d(!0),i(N,null,T(a.value.top_products,r=>{var w,k,j;return d(),i("div",{key:r.product_id,class:"flex items-center justify-between p-3 bg-gray-50 rounded-lg"},[t("div",nt,[t("p",it,e((w=r.product)==null?void 0:w.name_ar),1),t("p",dt,e((j=(k=r.product)==null?void 0:k.category)==null?void 0:j.name_ar),1)]),t("div",ct,[t("p",mt,e(o(l)(r.total_sold))+" قطعة",1)])])}),128)),(b=a.value.top_products)!=null&&b.length?D("",!0):(d(),i("div",xt," لا توجد بيانات "))])]),t("div",_t,[t("h3",pt,[c(o(L),{size:24,class:"text-primary-600"}),s[6]||(s[6]=z(" أفضل العملاء ",-1))]),t("div",ut,[(d(!0),i(N,null,T(a.value.top_customers,r=>(d(),i("div",{key:r.id,class:"flex items-center justify-between p-3 bg-gray-50 rounded-lg"},[t("div",gt,[t("p",ht,e(r.name),1),t("p",ft,e(o(l)(r.phone)),1)]),t("div",vt,[t("p",bt,e(m(r.total_purchases)),1),t("p",yt,e(o(l)(r.total_orders))+" طلب",1)])]))),128)),(y=a.value.top_customers)!=null&&y.length?D("",!0):(d(),i("div",wt," لا توجد بيانات "))])])])])}}};export{Bt as default};
