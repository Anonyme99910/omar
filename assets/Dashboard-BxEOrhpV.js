import{b as E,r as F,h as P,c as n,o as i,d as t,k as d,t as e,l as o,x as j,j as z,F as D,m as N,y as U}from"./index-DvNTShkq.js";import{t as l}from"./numbers-BTmV-EI5.js";import{D as A}from"./dollar-sign-44ycrSNg.js";import{T}from"./trending-up-Dzd-Lbq9.js";import{P as C}from"./package-CU7Ph3a9.js";import{A as G}from"./alert-triangle-myZhpKCo.js";import{U as L}from"./users-D2X_UjI9.js";import"./createLucideIcon-CAqraEAU.js";const S={class:"space-y-6"},I={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6"},M={class:"card bg-gradient-to-br from-blue-500 to-blue-600 text-white"},q={class:"flex items-center justify-between"},H={class:"text-2xl sm:text-3xl font-bold mt-2"},J={class:"text-blue-100 text-xs sm:text-sm mt-1"},K={class:"card bg-gradient-to-br from-green-500 to-green-600 text-white"},O={class:"flex items-center justify-between"},Q={class:"text-2xl sm:text-3xl font-bold mt-2"},R={class:"text-green-100 text-xs sm:text-sm mt-1"},W={class:"card bg-gradient-to-br from-purple-500 to-purple-600 text-white"},X={class:"flex items-center justify-between"},Y={class:"text-2xl sm:text-3xl font-bold mt-2"},Z={class:"text-purple-100 text-xs sm:text-sm mt-1"},$={class:"card bg-gradient-to-br from-red-500 to-red-600 text-white"},tt={class:"flex items-center justify-between"},st={class:"text-2xl sm:text-3xl font-bold mt-2"},et={class:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6"},ot={class:"card"},at={class:"text-xl font-bold mb-4 flex items-center gap-2"},rt={class:"space-y-3"},lt={class:"flex-1 min-w-0"},nt={class:"font-medium text-gray-900 text-sm sm:text-base truncate"},it={class:"text-xs sm:text-sm text-gray-500 truncate"},dt={class:"text-left ml-2"},ct={class:"font-bold text-primary-600 text-sm sm:text-base whitespace-nowrap"},mt={key:0,class:"text-center py-8 text-gray-500"},xt={class:"card"},_t={class:"text-lg sm:text-xl font-bold mb-4 flex items-center gap-2"},pt={class:"space-y-3"},ut={class:"flex-1 min-w-0"},gt={class:"font-medium text-gray-900 text-sm sm:text-base truncate"},ht={class:"text-xs sm:text-sm text-gray-500"},ft={class:"text-left ml-2"},vt={class:"font-bold text-green-600 text-sm sm:text-base whitespace-nowrap"},bt={class:"text-xs sm:text-sm text-gray-500"},yt={key:0,class:"text-center py-8 text-gray-500"},Et={__name:"Dashboard",setup(wt){const V=E(),a=F({}),m=c=>{const s=new Intl.NumberFormat("en-EG",{style:"currency",currency:"EGP"}).format(c);return l(s)},B=async()=>{try{const c=await U.getDashboard();a.value=c.data}catch{V.error("فشل تحميل البيانات")}};return P(()=>{B()}),(c,s)=>{var x,_,p,u,g,h,f,v,b;return i(),n("div",S,[t("div",I,[t("div",M,[t("div",q,[t("div",null,[s[0]||(s[0]=t("p",{class:"text-blue-100 text-xs sm:text-sm"},"مبيعات اليوم",-1)),t("h3",H,e(m(((x=a.value.today)==null?void 0:x.sales)||0)),1),t("p",J,e(o(l)(((_=a.value.today)==null?void 0:_.orders)||0))+" طلب",1)]),d(o(A),{size:40,class:"text-blue-200 sm:w-12 sm:h-12"})])]),t("div",K,[t("div",O,[t("div",null,[s[1]||(s[1]=t("p",{class:"text-green-100 text-xs sm:text-sm"},"مبيعات الشهر",-1)),t("h3",Q,e(m(((p=a.value.month)==null?void 0:p.sales)||0)),1),t("p",R,e(o(l)(((u=a.value.month)==null?void 0:u.orders)||0))+" طلب",1)]),d(o(T),{size:40,class:"text-green-200 sm:w-12 sm:h-12"})])]),t("div",W,[t("div",X,[t("div",null,[s[2]||(s[2]=t("p",{class:"text-purple-100 text-xs sm:text-sm"},"إجمالي المنتجات",-1)),t("h3",Y,e(o(l)(((g=a.value.inventory)==null?void 0:g.total_products)||0)),1),t("p",Z,e(m(((h=a.value.inventory)==null?void 0:h.total_value)||0)),1)]),d(o(C),{size:40,class:"text-purple-200 sm:w-12 sm:h-12"})])]),t("div",$,[t("div",tt,[t("div",null,[s[3]||(s[3]=t("p",{class:"text-red-100 text-xs sm:text-sm"},"تنبيهات المخزون",-1)),t("h3",st,e(o(l)(((f=a.value.inventory)==null?void 0:f.low_stock)||0)),1),s[4]||(s[4]=t("p",{class:"text-red-100 text-xs sm:text-sm mt-1"},"منتج منخفض",-1))]),d(o(G),{size:40,class:"text-red-200 sm:w-12 sm:h-12"})])])]),t("div",et,[t("div",ot,[t("h3",at,[d(o(T),{size:24,class:"text-primary-600"}),s[5]||(s[5]=j(" المنتجات الأكثر مبيعاً ",-1))]),t("div",rt,[(i(!0),n(D,null,N(a.value.top_products,r=>{var y,w,k;return i(),n("div",{key:r.product_id,class:"flex items-center justify-between p-3 bg-gray-50 rounded-lg"},[t("div",lt,[t("p",nt,e((y=r.product)==null?void 0:y.name_ar),1),t("p",it,e((k=(w=r.product)==null?void 0:w.category)==null?void 0:k.name_ar),1)]),t("div",dt,[t("p",ct,e(o(l)(r.total_sold))+" قطعة",1)])])}),128)),(v=a.value.top_products)!=null&&v.length?z("",!0):(i(),n("div",mt," لا توجد بيانات "))])]),t("div",xt,[t("h3",_t,[d(o(L),{size:24,class:"text-primary-600"}),s[6]||(s[6]=j(" أفضل العملاء ",-1))]),t("div",pt,[(i(!0),n(D,null,N(a.value.top_customers,r=>(i(),n("div",{key:r.id,class:"flex items-center justify-between p-3 bg-gray-50 rounded-lg"},[t("div",ut,[t("p",gt,e(r.name),1),t("p",ht,e(o(l)(r.phone)),1)]),t("div",ft,[t("p",vt,e(m(r.total_purchases)),1),t("p",bt,e(o(l)(r.total_orders))+" طلب",1)])]))),128)),(b=a.value.top_customers)!=null&&b.length?z("",!0):(i(),n("div",yt," لا توجد بيانات "))])])])])}}};export{Et as default};
